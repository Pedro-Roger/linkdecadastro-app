import{j as e,L as u}from"./index-CrjPvytv.js";import{u as f,d as a,L as t}from"./react-vendor-40RSlyA9.js";import{N as g}from"./NotificationBell-BJ0ncEVL.js";import{F as p}from"./Footer-Bm6iSaPc.js";import{a as j}from"./api-cc_Vofyw.js";import"./ui-vendor-VWVTWWFz.js";import"./utils-vendor-DwAQI6Fw.js";function C(){const o=f(),[r,n]=a.useState([]),[l,i]=a.useState(null),[c,d]=a.useState(!0);a.useEffect(()=>{const s=typeof window<"u"?localStorage.getItem("user"):null,h=typeof window<"u"?localStorage.getItem("token"):null;if(!s||!h){o("/login");return}i(JSON.parse(s)),m()},[]);async function m(){try{const s=await j("/courses/my-courses",{auth:!0});n(s)}catch{o("/login")}finally{d(!1)}}function x(){typeof window<"u"&&(localStorage.removeItem("token"),localStorage.removeItem("user")),o("/")}return c?e.jsx(u,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-2 md:space-y-0",children:[e.jsx(t,{to:"/",className:"flex items-center",children:e.jsx("img",{src:"/logo B.png",alt:"Link de Cadastro",className:"h-20 md:h-24 w-auto object-contain"})}),e.jsxs("nav",{className:"flex items-center space-x-4 md:space-x-6 text-sm md:text-base",children:[e.jsx(t,{to:"/courses",className:"text-gray-700 hover:text-[#FF6600]",children:"Cursos"}),e.jsx(t,{to:"/my-courses",className:"text-[#FF6600] font-semibold",children:"Meus Cursos"}),e.jsx(g,{}),e.jsx(t,{to:"/profile",className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-[#FF6600] text-white font-bold flex items-center justify-center",children:l?.name?.charAt(0).toUpperCase()||"A"}),e.jsx("button",{onClick:x,className:"bg-red-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-600 transition-colors text-sm md:text-base",children:"Sair"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 pb-24 md:pb-8 flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#003366]",children:"Meus Cursos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>e.jsxs(t,{href:`/course/${s.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.bannerUrl&&e.jsx("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${s.bannerUrl})`}}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2 text-[#003366]",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[s.totalLessons||0," aulas"]}),s.progress!==void 0&&e.jsxs("span",{className:"text-sm font-medium text-[#FF6600]",children:[s.progress,"% concluído"]})]}),s.progress!==void 0&&e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#FF6600] h-2 rounded-full transition-all",style:{width:`${s.progress}%`}})})]})]},s.id))}),r.length===0&&e.jsxs("div",{className:"text-center py-24",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Você ainda não está inscrito em nenhum curso."}),e.jsx(t,{href:"/courses",className:"mt-4 inline-block bg-[#FF6600] text-white px-6 py-3 rounded-md font-semibold hover:bg-[#e55a00] transition-colors",children:"Ver Cursos Disponíveis"})]})]}),e.jsx(p,{})]})}export{C as default};
