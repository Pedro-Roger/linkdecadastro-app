import{a as h,r as l,c as d}from"./form-vendor-UKDbifrO.js";var m=function(t,u){for(var o={};t.length;){var r=t[0],c=r.code,s=r.message,e=r.path.join(".");if(!o[e])if("unionErrors"in r){var n=r.unionErrors[0].errors[0];o[e]={message:n.message,type:n.code}}else o[e]={message:s,type:c};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(v){return t.push(v)})}),u){var i=o[e].types,a=i&&i[r.code];o[e]=d(e,u,o,c,a?[].concat(a,r.message):r.message)}t.shift()}return o},y=function(t,u,o){return o===void 0&&(o={}),function(r,c,s){try{return Promise.resolve((function(e,n){try{var i=Promise.resolve(t[o.mode==="sync"?"parse":"parseAsync"](r,u)).then(function(a){return s.shouldUseNativeValidation&&h({},s),{errors:{},values:o.raw?r:a}})}catch(a){return n(a)}return i&&i.then?i.then(void 0,n):i})(0,function(e){if((function(n){return Array.isArray(n?.errors)})(e))return{values:{},errors:l(m(e.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw e}))}catch(e){return Promise.reject(e)}}};export{y as t};
