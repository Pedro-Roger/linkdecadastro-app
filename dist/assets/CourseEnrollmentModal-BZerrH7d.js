import{u as ce,j as e}from"./index-Be2nDD7h.js";import{d as n}from"./react-vendor-40RSlyA9.js";import{o as de,u as me,Z as N,s as g,e as pe}from"./form-vendor-UKDbifrO.js";import{t as ue}from"./zod-Bd6eNPbn.js";import{a as R}from"./api-cc_Vofyw.js";const ge=["ESTUDANTE","PROFESSOR","PESQUISADOR","PRODUTOR"],he=de({name:g().min(1,"Nome é obrigatório").optional(),email:g().email("Email inválido").optional(),password:g().min(6,"Senha deve ter no mínimo 6 caracteres").optional(),cpf:g().min(11,"CPF deve ter 11 dígitos"),birthDate:g().min(1,"Data de nascimento é obrigatória"),participantType:pe(ge,{required_error:"Selecione o tipo de participante"}),hectares:g().optional(),waterArea:g().optional(),ponds:g().optional(),state:g().min(2,"Estado é obrigatório"),city:g().min(1,"Cidade é obrigatória"),whatsappNumber:g().min(10,"Informe o WhatsApp com DDD")}),xe=(c,o=!1)=>he.superRefine((d,h)=>{d.cpf.replace(/\D/g,"").length!==11&&h.addIssue({code:N.custom,message:"CPF deve ter 11 dígitos",path:["cpf"]});const m=d.whatsappNumber.replace(/\D/g,"");if((m.length<10||m.length>11)&&h.addIssue({code:N.custom,message:"Informe um número de WhatsApp válido (com DDD)",path:["whatsappNumber"]}),d.participantType==="PRODUTOR"){const p=parseFloat(d.hectares??"");(Number.isNaN(p)||p<=0)&&h.addIssue({code:N.custom,message:"Hectares é obrigatório para produtores e deve ser maior que zero",path:["hectares"]});const u=parseFloat(d.waterArea??"");(Number.isNaN(u)||u<=0)&&h.addIssue({code:N.custom,message:"Hectares de lâmina d'água é obrigatório para produtores e deve ser maior que zero",path:["waterArea"]});const v=parseInt(d.ponds??"");(Number.isNaN(v)||v<=0)&&h.addIssue({code:N.custom,message:"Quantidade de viveiros é obrigatória para produtores e deve ser maior que zero",path:["ponds"]})}c&&(d.email||h.addIssue({code:N.custom,message:"Email é obrigatório",path:["email"]}),o||(d.name||h.addIssue({code:N.custom,message:"Nome é obrigatório",path:["name"]}),d.password||h.addIssue({code:N.custom,message:"Senha é obrigatória",path:["password"]})))}),se=[{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AP",nome:"Amapá"},{sigla:"AM",nome:"Amazonas"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Ceará"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Espírito Santo"},{sigla:"GO",nome:"Goiás"},{sigla:"MA",nome:"Maranhão"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"PA",nome:"Pará"},{sigla:"PB",nome:"Paraíba"},{sigla:"PR",nome:"Paraná"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piauí"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"RO",nome:"Rondônia"},{sigla:"RR",nome:"Roraima"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SP",nome:"São Paulo"},{sigla:"SE",nome:"Sergipe"},{sigla:"TO",nome:"Tocantins"}];function fe(c){return c.replace(/\D/g,"").slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}function be(c){const o=c.replace(/\D/g,"").slice(0,11);return o.length<=2?o:o.length<=6?`(${o.slice(0,2)}) ${o.slice(2)}`:o.length<=10?`(${o.slice(0,2)}) ${o.slice(2,6)}-${o.slice(6)}`:`(${o.slice(0,2)}) ${o.slice(2,7)}-${o.slice(7)}`}function Te({isOpen:c,onClose:o,courseId:d,courseTitle:h,onSuccess:q}){const{user:m}=ce(),p=!m,[u,v]=n.useState(!1),[W,Q]=n.useState(!1),[ye,I]=n.useState(null),[ae,G]=n.useState([]),[te,A]=n.useState([]),[_,H]=n.useState(!1),[Z,K]=n.useState(!1),[X,j]=n.useState(!1),[re,w]=n.useState(!1),[Y,x]=n.useState(null),[E,D]=n.useState(null),oe=n.useMemo(()=>xe(p,u),[p,u]),{register:l,handleSubmit:ie,watch:L,setValue:C,reset:S,formState:{errors:r}}=me({resolver:ue(oe),defaultValues:{name:"",email:"",state:"",city:"",whatsappNumber:""},shouldUnregister:!0}),T=L("state"),ne=L("participantType"),U=L("email");n.useEffect(()=>{c&&m?(ee(),D(null),x(null),(async()=>{try{const a=await R("/user/profile",{auth:!0}),i={};a.phone&&(i.whatsappNumber=a.phone),a.state&&(i.state=a.state,B(a.state)),a.city&&(i.city=a.city),a.participantType&&(i.participantType=a.participantType),a.hectares&&(i.hectares=String(a.hectares)),S(f=>({...f,...i}))}catch(a){console.error("Erro ao buscar perfil do usuário:",a);const i={whatsappNumber:m?.phone||""};m?.state&&(i.state=m.state,B(m.state)),m?.city&&(i.city=m.city),S(f=>({...f,...i}))}})()):c&&(ee(),D(null),x(null),S(s=>({...s,whatsappNumber:""})))},[c,S,m]),n.useEffect(()=>{c&&T&&T.length===2?B(T):(A([]),T||C("city",""))},[c,T,C]),n.useEffect(()=>{if(!p||!U||!U.includes("@")){v(!1),I(null);return}const s=setTimeout(async()=>{Q(!0);try{try{await R("/auth/register",{method:"POST",body:JSON.stringify({name:"test",email:U,password:"test123456"})}),v(!1),I(null)}catch(a){a?.message?.includes("já existe")||a?.message?.includes("already exists")||a?.message?.includes("já cadastrado")||a?.message?.includes("Email já cadastrado")?v(!0):(v(!1),I(null))}}catch{v(!1),I(null)}finally{Q(!1)}},800);return()=>clearTimeout(s)},[U,p]);const ee=async()=>{try{H(!0);const s=await fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome");if(s.ok){const a=await s.json();G(a)}else G(se)}catch{G(se)}finally{H(!1)}},B=async s=>{try{K(!0);const a=await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${s}/municipios`);if(a.ok){const f=(await a.json()).sort((k,P)=>k.nome.localeCompare(P.nome));A(f)}else A([])}catch{A([])}finally{K(!1)}},$=()=>{o(),S(),D(null),x(null)},le=async s=>{j(!0),x(null),D(null);const a=s.cpf.replace(/\D/g,""),i=s.whatsappNumber.replace(/\D/g,""),f=s.participantType==="PRODUTOR"?parseFloat((s.hectares??"").replace(",",".")):void 0,k=s.participantType==="PRODUTOR"?parseFloat((s.waterArea??"").replace(",",".")):void 0,P=s.participantType==="PRODUTOR"?parseInt((s.ponds??"").replace(/\D/g,"")):void 0;try{if(p&&s.email){if(w(!0),u)if(s.password)try{const t=await R("/auth/login",{method:"POST",body:JSON.stringify({email:s.email,password:s.password})});typeof window<"u"&&(localStorage.setItem("token",t.accessToken),localStorage.setItem("user",JSON.stringify(t.user)))}catch(t){x(t?.message||"Senha incorreta. Se não lembrar sua senha, deixe em branco para vincular apenas com o email."),w(!1),j(!1);return}else try{const t=await R(`/courses/${d}/enroll-by-email`,{method:"POST",body:JSON.stringify({email:s.email,cpf:a,birthDate:s.birthDate,participantType:s.participantType,hectares:s.participantType==="PRODUTOR"?f:void 0,waterArea:s.participantType==="PRODUTOR"?k:void 0,ponds:s.participantType==="PRODUTOR"?P:void 0,state:s.state,city:s.city,whatsappNumber:i})}),y=t.enrollment?.status,z=t.metadata?.waitlistPosition??null;let F="Inscrição realizada com sucesso! A inscrição foi vinculada à sua conta existente.";if(y==="WAITLIST")F=z&&z>0?`Você entrou na lista de espera deste curso. Sua posição atual é ${z}. Você será contatado quando houver uma nova turma disponível.`:"Você entrou na lista de espera deste curso. Você será contatado quando houver uma nova turma disponível.";else if(y==="PENDING_REGION"){const J=t.enrollment?.eligibilityReason||"";J.includes("fora das regiões prioritárias")||J.includes("Região não elegível")?F=`Seu cadastro foi recebido com sucesso! Entretanto, este curso é destinado prioritariamente para pessoas de ${J.includes("Região não elegível")?"regiões específicas":"outras regiões"}. Sua inscrição será analisada e você será contatado caso haja disponibilidade.`:F=J||"Seu cadastro foi recebido, mas ainda não está elegível para participar deste curso."}else y==="REJECTED"&&(F=t.enrollment?.eligibilityReason||"Sua inscrição foi registrada, mas não pôde ser aprovada.");D({status:y??"CONFIRMED",message:F,waitlistPosition:z}),S({name:"",email:"",password:"",cpf:"",birthDate:"",participantType:"ESTUDANTE",hectares:"",waterArea:"",ponds:"",state:"",city:"",whatsappNumber:""}),q?.({enrollment:t.enrollment,metadata:t.metadata}),w(!1),j(!1);return}catch(t){x(t?.message||"Erro ao fazer inscrição. Verifique os dados informados."),w(!1),j(!1);return}else if(!u&&s.password&&s.name)try{const t=await R("/auth/register",{method:"POST",body:JSON.stringify({name:s.name,email:s.email,password:s.password,cpf:a,birthDate:s.birthDate,participantType:s.participantType,hectares:s.participantType==="PRODUTOR"?f:void 0,waterArea:s.participantType==="PRODUTOR"?k:void 0,ponds:s.participantType==="PRODUTOR"?P:void 0,state:s.state,city:s.city,phone:i})});t.accessToken&&typeof window<"u"&&(localStorage.setItem("token",t.accessToken),localStorage.setItem("user",JSON.stringify(t.user)))}catch(t){if(t?.message?.includes("já existe")||t?.message?.includes("already exists")||t?.message?.includes("já cadastrado")||t?.message?.includes("Email já cadastrado"))try{const y=await R("/auth/login",{method:"POST",body:JSON.stringify({email:s.email,password:s.password})});typeof window<"u"&&(localStorage.setItem("token",y.accessToken),localStorage.setItem("user",JSON.stringify(y.user)))}catch(y){x(y?.message||"Erro ao fazer login. Verifique suas credenciais."),w(!1),j(!1);return}else{x(t?.message||"Erro ao criar conta"),w(!1),j(!1);return}}w(!1)}const b=await R(`/courses/${d}/enroll`,{method:"POST",auth:!0,body:JSON.stringify({cpf:a,birthDate:s.birthDate,participantType:s.participantType,hectares:s.participantType==="PRODUTOR"?f:void 0,waterArea:s.participantType==="PRODUTOR"?k:void 0,ponds:s.participantType==="PRODUTOR"?P:void 0,state:s.state,city:s.city,whatsappNumber:i})}),M=b.enrollment?.status,V=b.metadata?.waitlistPosition??null;let O="Inscrição realizada com sucesso!";if(M==="WAITLIST")O=V&&V>0?`Você entrou na lista de espera deste curso. Sua posição atual é ${V}. Você será contatado quando houver uma nova turma disponível.`:"Você entrou na lista de espera deste curso. Você será contatado quando houver uma nova turma disponível.";else if(M==="PENDING_REGION"){const t=b.enrollment?.eligibilityReason||"";t.includes("fora das regiões prioritárias")||t.includes("Região não elegível")?O=`Seu cadastro foi recebido com sucesso! Entretanto, este curso é destinado prioritariamente para pessoas de ${t.includes("Região não elegível")?"regiões específicas":"outras regiões"}. Sua inscrição será analisada e você será contatado caso haja disponibilidade.`:O=t||"Seu cadastro foi recebido, mas ainda não está elegível para participar deste curso."}else M==="REJECTED"&&(O=b.enrollment?.eligibilityReason||"Sua inscrição foi registrada, mas não pôde ser aprovada.");D({status:M??"CONFIRMED",message:O,waitlistPosition:V}),S({name:"",email:"",password:"",cpf:"",birthDate:"",participantType:"ESTUDANTE",hectares:"",waterArea:"",ponds:"",state:"",city:"",whatsappNumber:""}),q?.({enrollment:b.enrollment,metadata:b.metadata})}catch(b){x(b instanceof Error?b.message:"Erro ao processar inscrição"),w(!1)}finally{j(!1)}};return c?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs("div",{className:"flex max-h-[90vh] w-full max-w-2xl flex-col overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsxs("div",{className:"sticky top-0 flex items-center justify-between border-b bg-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#003366]",children:p?"Cadastrar e Inscrever-se":"Inscrever-se no Curso"}),e.jsx("button",{onClick:$,className:"text-gray-400 transition-colors hover:text-gray-600",type:"button",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:[e.jsxs("p",{className:"mb-6 text-gray-600",children:["Curso:"," ",e.jsx("span",{className:"font-semibold text-[#003366]",children:h})]}),E&&e.jsx("div",{className:`mb-6 rounded-lg border px-4 py-3 text-sm ${E.status==="CONFIRMED"?"border-green-200 bg-green-50 text-green-800":E.status==="WAITLIST"?"border-yellow-200 bg-yellow-50 text-yellow-800":"border-blue-200 bg-blue-50 text-blue-800"}`,children:E.message}),Y&&e.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:Y}),!E&&e.jsxs("form",{onSubmit:ie(le),className:"space-y-4",children:[p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"E-mail *"}),e.jsx("input",{...l("email"),type:"email",placeholder:"seu@email.com",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),W&&e.jsx("p",{className:"mt-1 text-sm text-blue-500",children:"Verificando email..."}),u&&!W&&e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"✓ Email já cadastrado. A inscrição será vinculada à sua conta existente."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Você pode deixar a senha em branco para vincular apenas pelo email."})]}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.email.message})]}),!u&&e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Nome Completo *"}),e.jsx("input",{...l("name"),type:"text",placeholder:"Seu nome completo",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.name.message})]}),!u&&e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Senha *"}),e.jsx("input",{...l("password"),type:"password",placeholder:"Mínimo 6 caracteres",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.password.message})]}),u&&e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Senha (opcional)"}),e.jsx("input",{...l("password"),type:"password",placeholder:"Digite sua senha se quiser fazer login (opcional)",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),e.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Você pode deixar a senha em branco. A inscrição será vinculada automaticamente à sua conta pelo email."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"CPF *"}),e.jsx("input",{...l("cpf"),type:"text",maxLength:14,inputMode:"numeric",placeholder:"000.000.000-00",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]",onChange:s=>{const a=s.target.value.replace(/\D/g,"").slice(0,11);C("cpf",a,{shouldValidate:!0}),s.target.value=fe(a)}}),r.cpf&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.cpf.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Data de Nascimento *"}),e.jsx("input",{...l("birthDate"),type:"date",max:new Date().toISOString().split("T")[0],className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.birthDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.birthDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"WhatsApp (com DDD) *"}),e.jsx("input",{...l("whatsappNumber"),type:"tel",inputMode:"tel",placeholder:"(00) 00000-0000",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]",onChange:s=>{const a=s.target.value.replace(/\D/g,"").slice(0,11);C("whatsappNumber",a,{shouldValidate:!0}),s.target.value=be(a)}}),r.whatsappNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.whatsappNumber.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 md:text-base",children:"Você é: *"}),e.jsxs("select",{...l("participantType"),className:"w-full rounded-md border border-gray-300 px-4 py-3 text-base text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600] md:py-2 md:text-sm appearance-none bg-white cursor-pointer min-h-[48px] touch-manipulation",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.75rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"ESTUDANTE",children:"Estudante"}),e.jsx("option",{value:"PROFESSOR",children:"Professor"}),e.jsx("option",{value:"PESQUISADOR",children:"Pesquisador"}),e.jsx("option",{value:"PRODUTOR",children:"Produtor"})]}),r.participantType&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.participantType.message})]}),ne==="PRODUTOR"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Quantos hectares você possui? *"}),e.jsx("input",{...l("hectares"),type:"number",step:"0.01",min:"0",placeholder:"Ex: 10.5",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.hectares&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.hectares.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Quantos hectares de lâmina d'água você possui? *"}),e.jsx("input",{...l("waterArea"),type:"number",step:"0.01",min:"0",placeholder:"Ex: 8.5",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.waterArea&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.waterArea.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Quantos viveiros você possui? *"}),e.jsx("input",{...l("ponds"),type:"number",step:"1",min:"1",placeholder:"Ex: 5",className:"w-full rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600]"}),r.ponds&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.ponds.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 md:text-base",children:"Estado *"}),e.jsxs("select",{...l("state"),disabled:_,className:"w-full rounded-md border border-gray-300 px-4 py-3 text-base text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600] disabled:opacity-50 md:py-2 md:text-sm appearance-none bg-white cursor-pointer min-h-[48px] touch-manipulation",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.75rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsx("option",{value:"",children:_?"Carregando estados...":"Selecione o estado..."}),ae.map(s=>e.jsx("option",{value:s.sigla,children:s.nome},s.sigla))]}),r.state&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.state.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 md:text-base",children:"Cidade *"}),e.jsxs("select",{...l("city"),disabled:!T||Z,className:"w-full rounded-md border border-gray-300 px-4 py-3 text-base text-gray-900 focus:border-transparent focus:ring-2 focus:ring-[#FF6600] disabled:opacity-50 md:py-2 md:text-sm appearance-none bg-white cursor-pointer min-h-[48px] touch-manipulation",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.75rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsx("option",{value:"",children:Z?"Carregando cidades...":T?"Selecione a cidade...":"Selecione o estado primeiro"}),te.map(s=>e.jsx("option",{value:s.nome,children:s.nome},s.nome))]}),r.city&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.city.message})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:$,className:"flex-1 rounded-md border border-gray-300 px-6 py-3 font-semibold text-gray-700 transition-colors hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:X,className:"flex-1 rounded-md bg-[#FF6600] px-6 py-3 font-semibold text-white transition-colors hover:bg-[#e55a00] disabled:cursor-not-allowed disabled:opacity-50",children:X?re?"Cadastrando...":"Enviando...":p?"Cadastrar e Inscrever-se":"Confirmar Inscrição"})]})]})]}),E&&e.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Revise suas notificações para acompanhar o status da inscrição."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:$,className:"rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 transition-colors hover:bg-gray-100",children:"Fechar"}),e.jsx("button",{type:"button",onClick:$,className:"rounded-md bg-[#FF6600] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[#e55a00]",children:"Entendi"})]})]})})]})}):null}export{Te as C};
